{"version":3,"sources":["../../src/checking/index.js"],"names":["BBChecking","balanceUrl","BASE_ENDPOINT","headers","DEFAULT_HEADERS","cookie","LoginCookie","getGlobal","method","response","text","JSON","parse","servicoSaldo","saldo"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;IAEqBA,U;;;;;;;;;;;;;;;;AAEXC,cAAAA,U,GAAa,4B;;mDAEI,qCAASC,wBAAT,SAAyBD,UAAzB,GAAuC;AAC5DE,gBAAAA,OAAO,oBACFC,0BADE;AAELC,kBAAAA,MAAM,EAAEC,wBAAYC,SAAZ;AAFH,kBADqD;AAK5DC,gBAAAA,MAAM,EAAE;AALoD,eAAvC,C;;;AAAjBC,cAAAA,Q;;mDAQaA,QAAQ,CAACC,IAAT,E;;;AAAbA,cAAAA,I;4BACmBC,IAAI,CAACC,KAAL,CAAWF,IAAX,C,EAAjBG,Y,eAAAA,Y;AAEAC,cAAAA,K,GAAUD,Y,CAAVC,K;+CAED,gCAAkBA,KAAlB,C","sourcesContent":["import fetch from 'node-fetch';\nimport LoginCookie from '../loginCookie';\nimport { BASE_ENDPOINT, DEFAULT_HEADERS } from '../constants';\nimport { parseAmountString } from '../helpers';\n\nexport default class BBChecking {\n  async getBalance() {\n    const balanceUrl = 'servico/ServicoSaldo/saldo';\n\n    const response = await fetch(`${BASE_ENDPOINT}${balanceUrl}`, {\n      headers: {\n        ...DEFAULT_HEADERS,\n        cookie: LoginCookie.getGlobal(),\n      },\n      method: 'POST',\n    });\n\n    const text = await response.text();\n    const { servicoSaldo } = JSON.parse(text);\n\n    const { saldo } = servicoSaldo;\n\n    return parseAmountString(saldo);\n  }\n}\n"],"file":"index.js"}